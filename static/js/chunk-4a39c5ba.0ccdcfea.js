(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4a39c5ba"],{"003c":function(e,t,n){},"7cdf":function(e,t,n){var r=n("5ca1");r(r.S,"Number",{isInteger:n("9c12")})},"87de":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-main",{staticClass:"container"},[n("el-form",{ref:"ReginForm",staticClass:"regform",attrs:{model:e.ReginForm,rules:e.rule,"label-width":"0"}},[n("div",{staticClass:"title"},[n("h3",[e._v("立即注册")]),e._v(" "),n("span",{staticClass:"title_tips"},[e._v("注册成功即可免费体验")])]),e._v(" "),n("el-form-item",{attrs:{prop:"name"}},[n("el-input",{attrs:{type:"text",maxlength:"40",clearable:"",placeholder:"请输入物业公司名称"},model:{value:e.ReginForm.name,callback:function(t){e.$set(e.ReginForm,"name","string"===typeof t?t.trim():t)},expression:"ReginForm.name"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"tel"}},[n("el-input",{attrs:{type:"text",maxlength:"11",clearable:"",placeholder:"请输入手机号码"},model:{value:e.ReginForm.tel,callback:function(t){e.$set(e.ReginForm,"tel",e._n(t))},expression:"ReginForm.tel"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"captcha"}},[n("el-col",{attrs:{span:16}},[n("el-input",{attrs:{type:"text",maxlength:"6",clearable:"",placeholder:"请输入验证码"},model:{value:e.ReginForm.captcha,callback:function(t){e.$set(e.ReginForm,"captcha","string"===typeof t?t.trim():t)},expression:"ReginForm.captcha"}})],1),e._v(" "),n("el-button",{staticClass:"captcha",attrs:{type:"primary",plain:"",icon:"el-icon-message",loading:e.loading_captcha},on:{click:e.getCaptcha}},[e._v("获取验证码")])],1),e._v(" "),n("el-form-item",{attrs:{prop:"password"}},[n("el-input",{attrs:{type:"text",clearable:"",placeholder:"请输入登录密码",maxlength:"40","show-password":""},model:{value:e.ReginForm.password,callback:function(t){e.$set(e.ReginForm,"password","string"===typeof t?t.trim():t)},expression:"ReginForm.password"}})],1),e._v(" "),n("el-form-item",[n("el-button",{staticClass:"submitBtn",attrs:{type:"success",round:"",loading:e.loading_submit},nativeOn:{click:function(t){return t.preventDefault(),e.submit(t)}}},[e._v("注册")]),e._v(" "),n("el-button",{staticClass:"resetBtn",attrs:{type:"primary",round:""},nativeOn:{click:function(t){return t.preventDefault(),e.reset(t)}}},[e._v("重置")]),e._v(" "),n("hr"),e._v(" "),n("p",[e._v("\n        已经有账号，马上去\n        "),n("span",{staticClass:"to",on:{click:e.tologin}},[e._v("登录")])])],1)],1),e._v(" "),n("div",{staticClass:"copyright_div"},[n("span",{staticClass:"copyright"},[e._v("Copyright 2015 - 2019 CWind.All Rights Reserved.")]),e._v(" "),n("span",{staticClass:"copyright",staticStyle:{"margin-top":"10px"}},[e._v("橙风科技 版权所有")])])],1)},a=[],s=(n("7f7f"),n("6b54"),n("c5f6"),n("7cdf"),n("c24f")),i=(n("7514"),n("aec2"));n("5f87"),n("0631");function o(e){var t=e.name;e.subname;return new Promise(function(e,n){if(t){var r=Bmob.Query("T_Property");r.set("name",t+""),r.save().then(function(t){e(t)}).catch(function(e){n(i["a"].find(function(t){return t.code===e.code})?i["a"].find(function(t){return t.code===e.code}).error:e)})}else n("参数错误,请求失败")})}var c={data:function(){var e=function(e,t,n){return""===t?n(new Error("请输入手机号码")):Number.isInteger(t)?11!==t.toString().length?n(new Error("手机号码必须是11位数字")):void n():n(new Error("手机号码必须是数字"))};return{ReginForm:{name:"",tel:"",captcha:"",password:""},loading_submit:!1,loading_captcha:!1,rule:{name:[{required:!0,message:"请输入物业公司名称",trigger:"blur"}],tel:[{required:!0,validator:e,trigger:"blur"}],captcha:[{required:!0,min:6,message:"请输入6位验证码",trigger:"blur"}],password:[{required:!0,min:6,message:"登录密码不应小于6位",trigger:"blur"}]}}},methods:{getCaptcha:function(){var e=this,t=this.ReginForm.tel;""===t?this.$message({center:!0,message:"请输入手机号码",type:"error"}):Number.isInteger(t)?11!==t.toString().length?this.$message({center:!0,message:"手机号码必须是11位数字",type:"error"}):(this.loading_captcha=!0,Object(s["a"])(t).then(function(t){e.$message({center:!0,message:"验证码已发送，请留意并填写验证码",type:"success"}),setTimeout(function(){e.loading_captcha=!1},2e3)}).catch(function(t){e.$message({center:!0,message:t,type:"error"}),setTimeout(function(){e.loading_captcha=!1},2e3)})):this.$message({center:!0,message:"手机号码必须是数字",type:"error"})},submit:function(){var e=this;this.$refs.ReginForm.validate(function(t){t&&(e.loading_submit=!0,Object(s["h"])({captcha:e.ReginForm.captcha,tel:e.ReginForm.tel}).then(function(t){return o({name:e.ReginForm.name})}).then(function(t){return Object(s["e"])({username:e.ReginForm.tel,password:e.ReginForm.password,tel:e.ReginForm.tel,role:"T002",propertyId:t.objectId})}).then(function(t){e.$message({center:!0,message:"注册成功，请登录后免费体验",type:"success"}),e.$router.push("/login"),setTimeout(function(){e.loading_submit=!1},2e3)}).catch(function(t){e.$message({center:!0,message:t,type:"error"}),setTimeout(function(){e.loading_submit=!1},2e3)}))})},reset:function(){this.$refs.ReginForm.resetFields()},tologin:function(){this.$router.push("/login")}}},l=c,u=(n("abc5"),n("2877")),m=Object(u["a"])(l,r,a,!1,null,"3266e6fe",null);t["default"]=m.exports},"9c12":function(e,t,n){var r=n("d3f4"),a=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&a(e)===e}},abc5:function(e,t,n){"use strict";var r=n("003c"),a=n.n(r);a.a}}]);